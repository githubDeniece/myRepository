<!DOCTYPE html>
<html>
    <head>
        <title>有序数组合并排序</title>
    </head>
    <script>
        const arr1 = [1,3,5,7,9]
        const arr2 = [0,2,4,6,8]
        merge(arr1,arr2)
        function merge(arr1, arr2) {
            let arr = []
            let len = Math.max(arr1.length, arr2.length)
            for(let i = 0; i < len; i++) {
                // 构造新的数组,构造结果:除了最后两位,其他都是有序的
                if (arr1[i] === undefined || arr2[i] === undefined) {
                    // 两个数组长度不同的情况
                    arr = arr.concat(arr1[i]==undefined ? [] : arr1[i])
                    arr = arr.concat(arr2[i]==undefined ? [] : arr2[i])
                } else {
                    let min = Math.min(arr1[i], arr2[i])
                    let max = Math.max(arr1[i], arr2[i])
                    if (i === 0) {
                        arr = arr.concat(min).concat(max)
                        continue;
                    }
                    arr[i*2] = min
                    arr[(i*2) + 1] = max
                }
                // 调整顺序
                // 向前寻找，若循环到比当前最小值大的，则调换位置
                // 因为数组升序，所以循环调换位置完成后一定是有序的
                let idx = (i*2)
                while (arr[idx-1] > arr[idx] && idx >= 0) {
                    // 交换
                    let temp = arr[idx]
                    arr[idx] = arr[idx-1]
                    arr[idx-1] = temp
                    idx--
                }
            }
            console.log(arr)
        }
    </script>
    <body>
    </body>
</html>
